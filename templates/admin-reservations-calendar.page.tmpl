{{ template "admin" . }}

{{ define "page-title" }}
    Reservations Calendar
{{ end }}


{{ define "content" }}
    {{ $now := index .Data "now" }}
    {{ $rooms := index .Data "rooms" }}
    {{ $daysInMonth := index .IntMap "days_in_month" }}
    {{ $currentMonth := index .StringMap "this_month" }}
    {{ $currentYear := index .StringMap "this_month_year" }}

    <div class="container col-md-12">
        <h2>Reservations Calendar</h2>
        <div class="text-center">
            {{/* NOTES: How to format date in the template-formatDate() is a custom template func 
                Here we want to display month names not their digits, & year in 4 digits.
            */}}
            <h3>{{ formatDate $now "January" }} {{ formatDate $now "2006" }}</h3>
        </div>


        <div class="row">
            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3 text-left">
                <a class="btn btn-outline-secondary" 
                    href="/admin/reservations-calendar?y={{index .StringMap "last_month_year"}}&m={{index .StringMap "last_month"}}">
                    &lt;&lt;
                </a>
            </div>

            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3"></div>
            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3"></div>

            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3 text-right">
                <a class="btn btn-outline-secondary" 
                    href="/admin/reservations-calendar?y={{index .StringMap "next_month_year"}}&m={{index .StringMap "next_month"}}">
                    &gt;&gt;
                </a>
            </div>
            <div class="clearfix"></div>






            {{ range $rooms }}
                {{ $roomID := .ID }}

                <h4 class="mt-4">{{ .RoomName }}</h4>

                <div class="table-responsive">

                    <table class="table table-bordered table-sm">
                        <tr class="table-dark">
                            {{ range $index := iterate $daysInMonth }}
                                <td class="text-center">
                                    {{/* NOTES: 
                                        we add 1 to everyday of month here to avoid a month showing 
                                        in calendar as 0 
                                    */}}
                                    {{ add $index 1 }}
                                </td>
                            {{ end }}
                        </tr>

                        <tr>
                            {{ range $index := iterate $daysInMonth }}
                                <td class="text-center">
                                    <input type="checkbox">
                                </td>
                            {{ end }}
                        </tr>
                    </table>

                </div>
            {{ end }}
        </div>

    </div>

{{ end }}